#
# INBO Natuurindicatoren
# collect and tidy data for number of invasive species in Flanders
#
# author Van Hoey S.
#
library(zoo)
library(plyr)
library(dplyr)
library(tidyr)
###
install.packages("zoo")
library(zoo)
library(plyr)
library(dplyr)
install.packages("rlang")
library(dplyr)
install.packages("bindrcpp")
library(dplyr)
install.packages("glue")
library(dplyr)
install.packages("pkgconfig")
library(dplyr)
install.packages("tibble")
library(zoo)
library(plyr)
library(dplyr)
library(tidyr)
install.packages("tibble")
library(dplyr)
library(tidyr)
checklist_location <- "https://raw.githubusercontent.com/inbo/alien-species-checklist/master/data/processed/aggregated-checklist.tsv"
checklist <- read.csv(checklist_location, sep = "\t")
checklist_splitted <- separate_rows(checklist, introductionPathway, sep = "\\|")
checklist_splitted$introductionPathway <- sapply(checklist_splitted$introductionPathway,
stringr::str_trim)
checklist_pathway <- checklist_splitted %>%
separate(introductionPathway, c("category",
"subcategory"),
sep = ">", remove = FALSE, fill = "right") %>%
mutate_at(c("category", "subcategory"),
stringr::str_trim) %>%
replace_na(list(subcategory = "unknown"))
checklist_pathway$kingdom <- as.character(checklist_pathway$kingdom)
pathway_count <- checklist_pathway  %>%
filter(kingdom %in% c('Plantae', 'Animalia')) %>%
count(vars = c("introductionPathway", "category",
"subcategory", "kingdom"))
checklist_pathway$kingdom <- as.character(checklist_pathway$kingdom)
pathway_count <- checklist_pathway  %>%
filter(kingdom %in% c('Plantae', 'Animalia')) %>%
count(vars = c("introductionPathway", "category",
"subcategory", "kingdom"))
View(checklist_pathway)
checklist_pathway$kingdom <- as.character(checklist_pathway$kingdom)
pathway_count <- checklist_pathway  %>%
filter(kingdom %in% c('Plantae', 'Animalia')) %>%
count(vars("introductionPathway", "category",
"subcategory", "kingdom"))
library(rgbif)
WnmBe_Plants <- occ_download_get(key = "0006843-171025204727650", overwrite = TRUE) %>%
occ_download_import(WnmBe_Plants_download, na.strings = c("", NA))
View(WnmBe_Plants)
library(sp)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
library(sf)
install.packages("sf")
library(rgbif)
library(sf)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
View(UTM5)
crs_wgs <- CRS("+init=epsg:4326")
crs_wgs <- CRS("+init=epsg:4326")
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
UTM5.WGS84 <- spTransform(UTM5, crs_wgs)
library(rgbif)
library(sf)
library(sp)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
UTM5.WGS84 <- spTransform(UTM5, crs_wgs)
WnmBe_Plants_Spatial <-  st_as_sf(WnmBe_Plants,
coords = c("decimalLongitude",
"decimalLatitude"),
crs = 4326)
WnmBe_Plants_Spatial <-  st_as_sf(WnmBe_Plants,
coords = c("decimallongitude",
"decimallatitude"),
crs = 4326)
View(WnmBe_Plants_Spatial)
library(rgbif)
library(sf)
library(sp)
library(googleVis)
WnmBe_Plants_Spatial <-  st_as_sf(WnmBe_Plants,
coords = c("decimallongitude",
"decimallatitude"),
crs = 4326)
M1 <- gvisMap(WnmBe_Plants_Spatial, "geometry",
options=list(showTip=F, showLine=F, enableScrollWheel=TRUE,
mapType='satellite', useMapTypeControl=TRUE, width=800,height=400))
plot(M1)
WnmBe_Plants$LatLong <- paste(WnmBe_Plants$decimallatitude, ":", WnmBe_Plants$decimallongitude, sep="")
WnmBe_Plants_Spatial <-  st_as_sf(WnmBe_Plants,
coords = c("decimallongitude",
"decimallatitude"),
crs = 4326)
M1 <- gvisMap(WnmBe_Plants_Spatial, "LatLong",
options=list(showTip=F, showLine=F, enableScrollWheel=TRUE,
mapType='satellite', useMapTypeControl=TRUE, width=800,height=400))
plot(M1)
WnmBe_Plants_UTM5 <- st_join(WnmBe_Plants_Spatial, UTM5,
join = st_within, left = TRUE) %>%
select(-EofOrigin, -NofOrigin)  # exclude the EofOrigin NofOrigin columns
crs_wgs <- CRS("+init=epsg:4326")
crs_BEL72 <- CRS("+proj=lcc +lat_1=49.83333333333334 +lat_2=51.16666666666666 +lat_0=90 +lon_0=4.356939722222222 +x_0=150000.01256 +y_0=5400088.4378 +ellps=intl +towgs84=-106.869,52.2978,-103.724,0.3366,-0.457,1.8422,-1.2747 +units=m +no_defs")
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
proj4string(UTM5) <- crs_BEL72
library(rgbif)
library(sf)
library(sp)
library(googleVis)
crs_wgs <- CRS("+init=epsg:4326")
crs_BEL72 <- CRS("+proj=lcc +lat_1=49.83333333333334 +lat_2=51.16666666666666 +lat_0=90 +lon_0=4.356939722222222 +x_0=150000.01256 +y_0=5400088.4378 +ellps=intl +towgs84=-106.869,52.2978,-103.724,0.3366,-0.457,1.8422,-1.2747 +units=m +no_defs")
WnmBe_Plants <- occ_download_get(key = "0006843-171025204727650", overwrite = TRUE) %>%
occ_download_import(WnmBe_Plants_download, na.strings = c("", NA))
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
CRS(UTM5) <- crs_BEL72
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
crs(UTM5) <- crs_BEL72
library(rgbif)
library(sf)
library(sp)
library(googleVis)
library(rgdal)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
crs(UTM5) <- crs_BEL72
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
proj4string(UTM5) <- crs_BEL72
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
CRSargs(UTM5) <- crs_BEL72
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
CRS(UTM5) <- crs_BEL72
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
CRS(UTM5) <- CRS("+proj=lcc +lat_1=49.83333333333334 +lat_2=51.16666666666666 +lat_0=90 +lon_0=4.356939722222222 +x_0=150000.01256 +y_0=5400088.4378 +ellps=intl +towgs84=-106.869,52.2978,-103.724,0.3366,-0.457,1.8422,-1.2747 +units=m +no_defs")
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
crs(UTM5) <- CRS("+proj=lcc +lat_1=49.83333333333334 +lat_2=51.16666666666666 +lat_0=90 +lon_0=4.356939722222222 +x_0=150000.01256 +y_0=5400088.4378 +ellps=intl +towgs84=-106.869,52.2978,-103.724,0.3366,-0.457,1.8422,-1.2747 +units=m +no_defs")
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
crs(UTM5) <- crs_BEL72
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
crs(UTM5) <- "+proj=lcc +lat_1=49.83333333333334 +lat_2=51.16666666666666 +lat_0=90 +lon_0=4.356939722222222 +x_0=150000.01256 +y_0=5400088.4378 +ellps=intl +towgs84=-106.869,52.2978,-103.724,0.3366,-0.457,1.8422,-1.2747 +units=m +no_defs"
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
proj4string(UTM5) <- "+proj=lcc +lat_1=49.83333333333334 +lat_2=51.16666666666666 +lat_0=90 +lon_0=4.356939722222222 +x_0=150000.01256 +y_0=5400088.4378 +ellps=intl +towgs84=-106.869,52.2978,-103.724,0.3366,-0.457,1.8422,-1.2747 +units=m +no_defs"
library(rgbif)
#library(sf)
library(sp)
library(googleVis)
library(rgdal)
WnmBe_Plants <- occ_download_get(key = "0006843-171025204727650", overwrite = TRUE) %>%
occ_download_import(WnmBe_Plants_download, na.strings = c("", NA))
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
proj4string(UTM5) <- "+proj=lcc +lat_1=49.83333333333334 +lat_2=51.16666666666666 +lat_0=90 +lon_0=4.356939722222222 +x_0=150000.01256 +y_0=5400088.4378 +ellps=intl +towgs84=-106.869,52.2978,-103.724,0.3366,-0.457,1.8422,-1.2747 +units=m +no_defs"
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
is.projected(UTM5)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
proj4string(UTM5)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
sp::proj4string(UTM5)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
sf::proj4string(UTM5)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp")
rgdal::crs(UTM5)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5.shp", proj4string=crs_BEL72)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/utm-5x5belgie.shp", proj4string=crs_BEL72)
plot(UTM5)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/UTM5.shp", proj4string=crs_BEL72)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/UTM5.shp")
plot(UTM5)
UTM5 <- st_read("D://Projects/PRJ_Faunabeheer/Algemeen/utmmap/UTM5.shp")
UTM5_WGS <- spTransform(UTM5, crs_wgs)
